{"ast":null,"code":"var _class;\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/moves-controll.service\";\nimport * as i2 from \"src/app/services/socket.service\";\nimport * as i3 from \"@angular/common\";\nfunction FieldComponent_div_3_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r8 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 5);\n    i0.ɵɵlistener(\"click\", function FieldComponent_div_3_div_1_Template_div_click_0_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r8);\n      const j_r5 = restoredCtx.index;\n      const i_r2 = i0.ɵɵnextContext().index;\n      const ctx_r6 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r6.mark(i_r2, j_r5));\n    });\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const field_r4 = ctx.$implicit;\n    const j_r5 = ctx.index;\n    const i_r2 = i0.ɵɵnextContext().index;\n    i0.ɵɵproperty(\"ngClass\", \"sqr\" + i_r2 + j_r5)(\"id\", \"sqr\" + i_r2 + j_r5);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", field_r4, \" \");\n  }\n}\nfunction FieldComponent_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 3);\n    i0.ɵɵtemplate(1, FieldComponent_div_3_div_1_Template, 2, 3, \"div\", 4);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const fieldRow_r1 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", fieldRow_r1);\n  }\n}\nclass FieldComponent {\n  constructor(movesControll, socket) {\n    this.movesControll = movesControll;\n    this.socket = socket;\n    this.endedGames = [];\n    this.fieldMap = [['', '', ''], ['', '', ''], ['', '', '']];\n    this.nextMove = 'X';\n    this.playable = true;\n    this.win = false;\n    this.winner = '';\n    this.marks = 0;\n  }\n  ngOnInit() {\n    this.endedsSub = this.movesControll.endedGames.subscribe({\n      next: games => {\n        this.endedGames = games;\n      }\n    });\n    this.movesSub = this.movesControll.gameToMove.subscribe({\n      next: move => {\n        this.nextMove = move.mover;\n        if (move.all && !this.win) {\n          this.playable = true;\n          return;\n        }\n        this.playable = this.i == move.i && this.j == move.j;\n      }\n    });\n  }\n  mark(i, j) {\n    if (this.win || this.playable == false) {\n      return;\n    }\n    this.fieldMap[i][j] = this.nextMove;\n    this.switchNextMove();\n    this.checkWin();\n    this.checkDraw();\n    this.setNext(i, j);\n  }\n  setNext(i, j) {\n    const isTargetEnded = !!this.endedGames.filter(game => game.i == i && game.j == j).length;\n    if (isTargetEnded) {\n      this.movesControll.gameToMove.next({\n        i: this.i,\n        j: this.j,\n        mover: this.nextMove,\n        all: this.win\n      });\n      return;\n    }\n    this.movesControll.gameToMove.next({\n      i,\n      j,\n      mover: this.nextMove,\n      all: false\n    });\n  }\n  switchNextMove() {\n    this.nextMove = this.nextMove == 'X' ? 'O' : 'X';\n  }\n  checkDraw() {\n    this.marks++;\n    if (this.marks == 9 && this.win == false) {\n      this.setWin('/');\n    }\n  }\n  checkWin() {\n    for (let i of this.fieldMap) {\n      this.getRow(i);\n    }\n    for (let i = 0; i < this.fieldMap.length; i++) {\n      let line = [this.fieldMap[0][i], this.fieldMap[1][i], this.fieldMap[2][i]];\n      this.getRow(line);\n    }\n    let leftDiag = [this.fieldMap[0][0], this.fieldMap[1][1], this.fieldMap[2][2]];\n    this.getRow(leftDiag);\n    let rightDiag = [this.fieldMap[2][0], this.fieldMap[1][1], this.fieldMap[0][2]];\n    this.getRow(rightDiag);\n  }\n  getRow(row) {\n    const line = row[0] + row[1] + row[2];\n    let winner = Array.from(new Set(line.split('')));\n    let win = winner.length == 1 && line.length == 3;\n    if (win) {\n      this.setWin(line[0]);\n    }\n  }\n  setWin(winner) {\n    this.win = true;\n    this.winner = winner;\n    this.playable = false;\n    this.endedGames.push({\n      i: this.i,\n      j: this.j,\n      winner: winner\n    });\n    this.movesControll.endedGames.next(this.endedGames);\n    this.movesSub?.unsubscribe();\n    this.endedsSub?.unsubscribe();\n  }\n}\n_class = FieldComponent;\n_class.ɵfac = function FieldComponent_Factory(t) {\n  return new (t || _class)(i0.ɵɵdirectiveInject(i1.MovesControllService), i0.ɵɵdirectiveInject(i2.SocketService));\n};\n_class.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: _class,\n  selectors: [[\"app-field\"]],\n  inputs: {\n    i: \"i\",\n    j: \"j\"\n  },\n  decls: 4,\n  vars: 4,\n  consts: [[1, \"field-holder\", 3, \"ngClass\"], [1, \"winner\", 3, \"ngClass\"], [\"class\", \"row\", 4, \"ngFor\", \"ngForOf\"], [1, \"row\"], [\"class\", \"col sqr playable\", 3, \"ngClass\", \"id\", \"click\", 4, \"ngFor\", \"ngForOf\"], [1, \"col\", \"sqr\", \"playable\", 3, \"ngClass\", \"id\", \"click\"]],\n  template: function FieldComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1);\n      i0.ɵɵtext(2);\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(3, FieldComponent_div_3_Template, 2, 1, \"div\", 2);\n      i0.ɵɵelementEnd();\n    }\n    if (rf & 2) {\n      i0.ɵɵproperty(\"ngClass\", ctx.playable ? \"\" : \"low\");\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngClass\", ctx.winner != \"\" ? \"show\" : \"hide\");\n      i0.ɵɵadvance(1);\n      i0.ɵɵtextInterpolate1(\" \", ctx.winner, \" \");\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngForOf\", ctx.fieldMap);\n    }\n  },\n  dependencies: [i3.NgClass, i3.NgForOf],\n  styles: [\".field-holder[_ngcontent-%COMP%] {\\n  font-family: \\\"Nunito\\\", sans-serif;\\n  display: flex;\\n  flex-direction: row;\\n  width: max-content;\\n  justify-content: center;\\n  align-items: center;\\n  margin: 10px;\\n  position: relative;\\n}\\n\\n.winner[_ngcontent-%COMP%] {\\n  position: absolute;\\n  font-size: 12rem;\\n  -webkit-user-select: none;\\n          user-select: none;\\n}\\n\\n.hide[_ngcontent-%COMP%] {\\n  display: none;\\n}\\n\\n.show[_ngcontent-%COMP%] {\\n  display: block;\\n}\\n\\n.low[_ngcontent-%COMP%] {\\n  background-color: rgba(128, 128, 128, 0.4);\\n}\\n\\n.sqr[_ngcontent-%COMP%] {\\n  height: 60px;\\n  width: 60px;\\n  display: flex;\\n  text-align: center;\\n  justify-content: center;\\n  align-items: center;\\n  -webkit-user-select: none;\\n          user-select: none;\\n  padding: 6px;\\n  box-sizing: border-box;\\n  cursor: pointer;\\n}\\n\\n.sqr00[_ngcontent-%COMP%] {\\n  border-right: 2px solid black;\\n  border-bottom: 2px solid black;\\n}\\n\\n.sqr01[_ngcontent-%COMP%] {\\n  border-right: 2px solid black;\\n  border-bottom: 2px solid black;\\n}\\n\\n.sqr02[_ngcontent-%COMP%] {\\n  border-right: 2px solid black;\\n}\\n\\n.sqr10[_ngcontent-%COMP%], .sqr11[_ngcontent-%COMP%] {\\n  border-bottom: 2px solid black;\\n  border-right: 2px solid black;\\n}\\n\\n.sqr12[_ngcontent-%COMP%] {\\n  border-right: 2px solid black;\\n}\\n\\n.sqr20[_ngcontent-%COMP%] {\\n  border-bottom: 2px solid black;\\n}\\n\\n.sqr21[_ngcontent-%COMP%] {\\n  border-bottom: 2px solid black;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50cy9maWVsZC9maWVsZC5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFFQTtFQUNJLGlDQUFBO0VBQ0EsYUFBQTtFQUNBLG1CQUFBO0VBQ0Esa0JBQUE7RUFDQSx1QkFBQTtFQUNBLG1CQUFBO0VBQ0EsWUFBQTtFQUNBLGtCQUFBO0FBREo7O0FBSUE7RUFDSSxrQkFBQTtFQUNBLGdCQUFBO0VBQ0EseUJBQUE7VUFBQSxpQkFBQTtBQURKOztBQUlBO0VBQ0ksYUFBQTtBQURKOztBQUlBO0VBQ0ksY0FBQTtBQURKOztBQUlBO0VBQ0ksMENBQUE7QUFESjs7QUFJQTtFQUNJLFlBQUE7RUFDQSxXQUFBO0VBQ0EsYUFBQTtFQUNBLGtCQUFBO0VBQ0EsdUJBQUE7RUFDQSxtQkFBQTtFQUNBLHlCQUFBO1VBQUEsaUJBQUE7RUFDQSxZQUFBO0VBQ0Esc0JBQUE7RUFDQSxlQUFBO0FBREo7O0FBTUE7RUFDSSw2QkEvQ0s7RUFnREwsOEJBaERLO0FBNkNUOztBQU1BO0VBQ0ksNkJBcERLO0VBcURMLDhCQXJESztBQWtEVDs7QUFNQTtFQUNJLDZCQXpESztBQXNEVDs7QUFNQTs7RUFFSSw4QkE5REs7RUErREwsNkJBL0RLO0FBNERUOztBQU1BO0VBQ0ksNkJBbkVLO0FBZ0VUOztBQU1BO0VBQ0ksOEJBdkVLO0FBb0VUOztBQU1BO0VBQ0ksOEJBM0VLO0FBd0VUIiwic291cmNlc0NvbnRlbnQiOlsiJGJvcmRlcjogMnB4IHNvbGlkIGJsYWNrO1xyXG5cclxuLmZpZWxkLWhvbGRlciB7XHJcbiAgICBmb250LWZhbWlseTogJ051bml0bycsIHNhbnMtc2VyaWY7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgZmxleC1kaXJlY3Rpb246IHJvdztcclxuICAgIHdpZHRoOiBtYXgtY29udGVudDtcclxuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xyXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICAgIG1hcmdpbjogMTBweDtcclxuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcclxufVxyXG5cclxuLndpbm5lciB7XHJcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICBmb250LXNpemU6IDEycmVtO1xyXG4gICAgdXNlci1zZWxlY3Q6IG5vbmU7XHJcbn1cclxuXHJcbi5oaWRlIHtcclxuICAgIGRpc3BsYXk6IG5vbmU7XHJcbn1cclxuXHJcbi5zaG93IHtcclxuICAgIGRpc3BsYXk6IGJsb2NrO1xyXG59XHJcblxyXG4ubG93IHtcclxuICAgIGJhY2tncm91bmQtY29sb3I6IHJnYigxMjgsIDEyOCwgMTI4LCAuNCk7XHJcbn1cclxuXHJcbi5zcXIge1xyXG4gICAgaGVpZ2h0OiA2MHB4O1xyXG4gICAgd2lkdGg6IDYwcHg7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XHJcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG4gICAgdXNlci1zZWxlY3Q6IG5vbmU7XHJcbiAgICBwYWRkaW5nOiA2cHg7XHJcbiAgICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xyXG4gICAgY3Vyc29yOiBwb2ludGVyO1xyXG59XHJcblxyXG5cclxuLy9ib3JkYXNcclxuLnNxcjAwIHtcclxuICAgIGJvcmRlci1yaWdodDogJGJvcmRlcjtcclxuICAgIGJvcmRlci1ib3R0b206ICRib3JkZXI7XHJcbn1cclxuXHJcbi5zcXIwMSB7XHJcbiAgICBib3JkZXItcmlnaHQ6ICRib3JkZXI7XHJcbiAgICBib3JkZXItYm90dG9tOiAkYm9yZGVyO1xyXG59XHJcblxyXG4uc3FyMDIge1xyXG4gICAgYm9yZGVyLXJpZ2h0OiAkYm9yZGVyO1xyXG59XHJcblxyXG4uc3FyMTAsXHJcbi5zcXIxMSB7XHJcbiAgICBib3JkZXItYm90dG9tOiAkYm9yZGVyO1xyXG4gICAgYm9yZGVyLXJpZ2h0OiAkYm9yZGVyO1xyXG59XHJcblxyXG4uc3FyMTIge1xyXG4gICAgYm9yZGVyLXJpZ2h0OiAkYm9yZGVyO1xyXG59XHJcblxyXG4uc3FyMjAge1xyXG4gICAgYm9yZGVyLWJvdHRvbTogJGJvcmRlcjtcclxufVxyXG5cclxuLnNxcjIxIHtcclxuICAgIGJvcmRlci1ib3R0b206ICRib3JkZXI7XHJcbn0iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n});\nexport { FieldComponent };","map":{"version":3,"names":["i0","ɵɵelementStart","ɵɵlistener","FieldComponent_div_3_div_1_Template_div_click_0_listener","restoredCtx","ɵɵrestoreView","_r8","j_r5","index","i_r2","ɵɵnextContext","ctx_r6","ɵɵresetView","mark","ɵɵtext","ɵɵelementEnd","ɵɵproperty","ɵɵadvance","ɵɵtextInterpolate1","field_r4","ɵɵtemplate","FieldComponent_div_3_div_1_Template","fieldRow_r1","FieldComponent","constructor","movesControll","socket","endedGames","fieldMap","nextMove","playable","win","winner","marks","ngOnInit","endedsSub","subscribe","next","games","movesSub","gameToMove","move","mover","all","i","j","switchNextMove","checkWin","checkDraw","setNext","isTargetEnded","filter","game","length","setWin","getRow","line","leftDiag","rightDiag","row","Array","from","Set","split","push","unsubscribe","ɵɵdirectiveInject","i1","MovesControllService","i2","SocketService","selectors","inputs","decls","vars","consts","template","FieldComponent_Template","rf","ctx","FieldComponent_div_3_Template"],"sources":["C:\\Users\\igorn\\tic-tac-toe-2\\src\\app\\components\\field\\field.component.ts","C:\\Users\\igorn\\tic-tac-toe-2\\src\\app\\components\\field\\field.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { Input } from '@angular/core'\nimport { MovesControllService } from 'src/app/services/moves-controll.service';\nimport { Subscription } from 'rxjs'\nimport { SocketService } from 'src/app/services/socket.service';\n\n@Component({\n  selector: 'app-field',\n  templateUrl: './field.component.html',\n  styleUrls: ['./field.component.scss']\n})\nexport class FieldComponent implements OnInit {\n\n  @Input() i!: number;\n  @Input() j!: number;\n\n  movesSub?: Subscription;\n  endedsSub?: Subscription;\n  endedGames: { i: number, j: number, winner: string }[] = [];\n\n  constructor(\n    private movesControll: MovesControllService,\n    private socket: SocketService\n  ) { }\n\n  fieldMap = [\n    ['', '', ''],\n    ['', '', ''],\n    ['', '', ''],\n  ]\n\n  nextMove = 'X';\n  playable = true;\n  win = false;\n  winner = '';\n  marks = 0;\n\n  ngOnInit(): void {\n    this.endedsSub = this.movesControll.endedGames.subscribe({\n      next: (games) => {\n        this.endedGames = games;\n      }\n    })\n\n    this.movesSub = this.movesControll.gameToMove.subscribe({\n      next: move => {\n        this.nextMove = move.mover;\n\n        if (move.all && !this.win) {\n          this.playable = true;\n          return;\n        }\n\n        this.playable = this.i == move.i && this.j == move.j\n      }\n    })\n  }\n\n  mark(i: number, j: number) {\n    if (this.win || this.playable == false) {\n      return;\n    }\n\n    this.fieldMap[i][j] = this.nextMove;\n    this.switchNextMove();\n    this.checkWin();\n    this.checkDraw();\n    this.setNext(i, j);\n  }\n\n  setNext(i: number, j: number) {\n    const isTargetEnded = !!this.endedGames.filter(game => game.i == i && game.j == j).length;\n\n    if (isTargetEnded) {\n      this.movesControll.gameToMove.next({ i: this.i, j: this.j, mover: this.nextMove, all: this.win });\n      return;\n    }\n\n    this.movesControll.gameToMove.next({ i, j, mover: this.nextMove, all: false });\n  }\n\n  switchNextMove() {\n    this.nextMove = this.nextMove == 'X' ? 'O' : 'X';\n  }\n\n  checkDraw() {\n    this.marks++;\n    if (this.marks == 9 && this.win == false) {\n      this.setWin('/');\n    }\n  }\n\n  checkWin() {\n    for (let i of this.fieldMap) {\n      this.getRow(i);\n    }\n\n    for (let i = 0; i < this.fieldMap.length; i++) {\n      let line = [this.fieldMap[0][i], this.fieldMap[1][i], this.fieldMap[2][i]];\n      this.getRow(line);\n    }\n\n    let leftDiag = [this.fieldMap[0][0], this.fieldMap[1][1], this.fieldMap[2][2]];\n    this.getRow(leftDiag);\n\n    let rightDiag = [this.fieldMap[2][0], this.fieldMap[1][1], this.fieldMap[0][2]];\n    this.getRow(rightDiag);\n  }\n\n\n  getRow(row: string[]) {\n    const line = row[0] + row[1] + row[2];\n    let winner = Array.from(new Set(line.split('')));\n    let win = winner.length == 1 && line.length == 3;\n\n    if (win) {\n      this.setWin(line[0]);\n    }\n  }\n\n  setWin(winner: string) {\n    this.win = true;\n    this.winner = winner;\n    this.playable = false;\n\n    this.endedGames.push({ i: this.i, j: this.j, winner: winner });\n    this.movesControll.endedGames.next(this.endedGames);\n\n    this.movesSub?.unsubscribe();\n    this.endedsSub?.unsubscribe();\n  }\n\n}\n","<div class=\"field-holder\" [ngClass]=\"playable ? '': 'low'\">\n\n    <div class=\"winner\" [ngClass]=\"winner != '' ? 'show' : 'hide'\">\n        {{winner}}\n    </div>\n\n    <div *ngFor=\"let fieldRow of fieldMap; index as i\" class=\"row\">\n        <div *ngFor=\"let field of fieldRow; index as j\" class=\"col sqr playable\" [ngClass]=\"'sqr' + i + j\"\n            [id]=\"'sqr'  + i + j\" (click)=\"mark(i,j)\">\n            {{field}}\n        </div>\n    </div>\n\n</div>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}