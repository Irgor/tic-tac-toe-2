{"ast":null,"code":"var _class;\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common\";\nfunction FieldComponent_div_3_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r8 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 5);\n    i0.ɵɵlistener(\"click\", function FieldComponent_div_3_div_1_Template_div_click_0_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r8);\n      const j_r5 = restoredCtx.index;\n      const i_r2 = i0.ɵɵnextContext().index;\n      const ctx_r6 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r6.mark(i_r2, j_r5, $event));\n    });\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const field_r4 = ctx.$implicit;\n    const j_r5 = ctx.index;\n    const i_r2 = i0.ɵɵnextContext().index;\n    i0.ɵɵproperty(\"ngClass\", \"sqr\" + i_r2 + j_r5)(\"id\", \"sqr\" + i_r2 + j_r5);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", field_r4, \" \");\n  }\n}\nfunction FieldComponent_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 3);\n    i0.ɵɵtemplate(1, FieldComponent_div_3_div_1_Template, 2, 3, \"div\", 4);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const fieldRow_r1 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", fieldRow_r1);\n  }\n}\nclass FieldComponent {\n  constructor() {\n    this.fieldMap = [['', '', ''], ['', '', ''], ['', '', '']];\n    this.nextMove = 'X';\n    this.win = false;\n    this.winner = 'X';\n  }\n  mark(i, j, event) {\n    if (this.win) {\n      return;\n    }\n    console.log(event);\n    this.fieldMap[i][j] = this.nextMove;\n    this.switchNextMove();\n    this.checkWin();\n    console.log(this.fieldMap);\n  }\n  switchNextMove() {\n    this.nextMove = this.nextMove == 'X' ? 'O' : 'X';\n  }\n  checkWin() {\n    for (let i of this.fieldMap) {\n      this.getRow(i);\n    }\n    for (let i = 0; i < this.fieldMap.length; i++) {\n      let line = [this.fieldMap[0][i], this.fieldMap[1][i], this.fieldMap[2][i]];\n      this.getRow(line);\n    }\n    let leftDiag = [this.fieldMap[0][0], this.fieldMap[1][1], this.fieldMap[2][2]];\n    this.getRow(leftDiag);\n    let rightDiag = [this.fieldMap[2][0], this.fieldMap[1][1], this.fieldMap[0][2]];\n    this.getRow(rightDiag);\n  }\n  getRow(row) {\n    const line = row[0] + row[1] + row[2];\n    let winner = Array.from(new Set(line.split('')));\n    let win = winner.length == 1 && line.length == 3;\n    if (win) {\n      this.win = win;\n      this.winner = line[0];\n    }\n  }\n}\n_class = FieldComponent;\n_class.ɵfac = function FieldComponent_Factory(t) {\n  return new (t || _class)();\n};\n_class.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: _class,\n  selectors: [[\"app-field\"]],\n  decls: 4,\n  vars: 2,\n  consts: [[1, \"field-holder\"], [1, \"winner\"], [\"class\", \"row\", 4, \"ngFor\", \"ngForOf\"], [1, \"row\"], [\"class\", \"col sqr playable\", 3, \"ngClass\", \"id\", \"click\", 4, \"ngFor\", \"ngForOf\"], [1, \"col\", \"sqr\", \"playable\", 3, \"ngClass\", \"id\", \"click\"]],\n  template: function FieldComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1);\n      i0.ɵɵtext(2);\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(3, FieldComponent_div_3_Template, 2, 1, \"div\", 2);\n      i0.ɵɵelementEnd();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(2);\n      i0.ɵɵtextInterpolate1(\" \", ctx.winner, \" \");\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngForOf\", ctx.fieldMap);\n    }\n  },\n  dependencies: [i1.NgClass, i1.NgForOf],\n  styles: [\".field-holder[_ngcontent-%COMP%] {\\n  font-family: \\\"Skranji\\\", cursive;\\n  display: flex;\\n  flex-direction: row;\\n  width: max-content;\\n  justify-content: center;\\n  align-items: center;\\n  margin: 10px;\\n  border: 1px solid blue;\\n  position: relative;\\n}\\n\\n.winner[_ngcontent-%COMP%] {\\n  position: absolute;\\n  font-size: 1200%;\\n  top: 50%;\\n  left: 50%;\\n  transform: translate(-50%, -50%);\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n}\\n\\n.sqr[_ngcontent-%COMP%] {\\n  height: 60px;\\n  width: 60px;\\n  display: flex;\\n  text-align: center;\\n  justify-content: center;\\n  align-items: center;\\n  -webkit-user-select: none;\\n          user-select: none;\\n  padding: 6px;\\n  box-sizing: border-box;\\n  cursor: pointer;\\n}\\n\\n.playable[_ngcontent-%COMP%]:hover::after {\\n  content: \\\"X\\\";\\n  opacity: 0.2;\\n}\\n\\n.sqr00[_ngcontent-%COMP%] {\\n  border-right: 2px solid black;\\n  border-bottom: 2px solid black;\\n}\\n\\n.sqr01[_ngcontent-%COMP%] {\\n  border-right: 2px solid black;\\n  border-bottom: 2px solid black;\\n}\\n\\n.sqr02[_ngcontent-%COMP%] {\\n  border-right: 2px solid black;\\n}\\n\\n.sqr10[_ngcontent-%COMP%], .sqr11[_ngcontent-%COMP%] {\\n  border-bottom: 2px solid black;\\n  border-right: 2px solid black;\\n}\\n\\n.sqr12[_ngcontent-%COMP%] {\\n  border-right: 2px solid black;\\n}\\n\\n.sqr20[_ngcontent-%COMP%] {\\n  border-bottom: 2px solid black;\\n}\\n\\n.sqr21[_ngcontent-%COMP%] {\\n  border-bottom: 2px solid black;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50cy9maWVsZC9maWVsZC5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFFQTtFQUNJLCtCQUFBO0VBQ0EsYUFBQTtFQUNBLG1CQUFBO0VBQ0Esa0JBQUE7RUFDQSx1QkFBQTtFQUNBLG1CQUFBO0VBQ0EsWUFBQTtFQUNBLHNCQUFBO0VBQ0Esa0JBQUE7QUFESjs7QUFJQTtFQUNJLGtCQUFBO0VBQ0EsZ0JBQUE7RUFDQSxRQUFBO0VBQ0EsU0FBQTtFQUNBLGdDQUFBO0VBQ0EsYUFBQTtFQUNBLHVCQUFBO0VBQ0EsbUJBQUE7QUFESjs7QUFJQTtFQUNJLFlBQUE7RUFDQSxXQUFBO0VBQ0EsYUFBQTtFQUNBLGtCQUFBO0VBQ0EsdUJBQUE7RUFDQSxtQkFBQTtFQUNBLHlCQUFBO1VBQUEsaUJBQUE7RUFDQSxZQUFBO0VBQ0Esc0JBQUE7RUFDQSxlQUFBO0FBREo7O0FBSUE7RUFDSSxZQUFBO0VBQ0EsWUFBQTtBQURKOztBQUlBO0VBQ0ksNkJBNUNLO0VBNkNMLDhCQTdDSztBQTRDVDs7QUFJQTtFQUNJLDZCQWpESztFQWtETCw4QkFsREs7QUFpRFQ7O0FBSUE7RUFDSSw2QkF0REs7QUFxRFQ7O0FBSUE7O0VBRUksOEJBM0RLO0VBNERMLDZCQTVESztBQTJEVDs7QUFJQTtFQUNJLDZCQWhFSztBQStEVDs7QUFJQTtFQUNJLDhCQXBFSztBQW1FVDs7QUFJQTtFQUNJLDhCQXhFSztBQXVFVCIsInNvdXJjZXNDb250ZW50IjpbIiRib3JkZXI6IDJweCBzb2xpZCBibGFjaztcclxuXHJcbi5maWVsZC1ob2xkZXIge1xyXG4gICAgZm9udC1mYW1pbHk6ICdTa3JhbmppJywgY3Vyc2l2ZTtcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICBmbGV4LWRpcmVjdGlvbjogcm93O1xyXG4gICAgd2lkdGg6IG1heC1jb250ZW50O1xyXG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XHJcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG4gICAgbWFyZ2luOiAxMHB4O1xyXG4gICAgYm9yZGVyOiAxcHggc29saWQgYmx1ZTtcclxuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcclxufVxyXG5cclxuLndpbm5lciB7XHJcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICBmb250LXNpemU6IDEyMDAlO1xyXG4gICAgdG9wOiA1MCU7XHJcbiAgICBsZWZ0OiA1MCU7XHJcbiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZSgtNTAlLCAtNTAlKTtcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcclxuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbn1cclxuXHJcbi5zcXIge1xyXG4gICAgaGVpZ2h0OiA2MHB4O1xyXG4gICAgd2lkdGg6IDYwcHg7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XHJcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG4gICAgdXNlci1zZWxlY3Q6IG5vbmU7XHJcbiAgICBwYWRkaW5nOiA2cHg7XHJcbiAgICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xyXG4gICAgY3Vyc29yOiBwb2ludGVyO1xyXG59XHJcblxyXG4ucGxheWFibGU6aG92ZXI6OmFmdGVyIHtcclxuICAgIGNvbnRlbnQ6ICdYJztcclxuICAgIG9wYWNpdHk6IC4yO1xyXG59XHJcblxyXG4uc3FyMDAge1xyXG4gICAgYm9yZGVyLXJpZ2h0OiAkYm9yZGVyO1xyXG4gICAgYm9yZGVyLWJvdHRvbTogJGJvcmRlcjtcclxufVxyXG5cclxuLnNxcjAxIHtcclxuICAgIGJvcmRlci1yaWdodDogJGJvcmRlcjtcclxuICAgIGJvcmRlci1ib3R0b206ICRib3JkZXI7XHJcbn1cclxuXHJcbi5zcXIwMiB7XHJcbiAgICBib3JkZXItcmlnaHQ6ICRib3JkZXI7XHJcbn1cclxuXHJcbi5zcXIxMCxcclxuLnNxcjExIHtcclxuICAgIGJvcmRlci1ib3R0b206ICRib3JkZXI7XHJcbiAgICBib3JkZXItcmlnaHQ6ICRib3JkZXI7XHJcbn1cclxuXHJcbi5zcXIxMiB7XHJcbiAgICBib3JkZXItcmlnaHQ6ICRib3JkZXI7XHJcbn1cclxuXHJcbi5zcXIyMCB7XHJcbiAgICBib3JkZXItYm90dG9tOiAkYm9yZGVyO1xyXG59XHJcblxyXG4uc3FyMjEge1xyXG4gICAgYm9yZGVyLWJvdHRvbTogJGJvcmRlcjtcclxufSJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n});\nexport { FieldComponent };","map":{"version":3,"names":["i0","ɵɵelementStart","ɵɵlistener","FieldComponent_div_3_div_1_Template_div_click_0_listener","$event","restoredCtx","ɵɵrestoreView","_r8","j_r5","index","i_r2","ɵɵnextContext","ctx_r6","ɵɵresetView","mark","ɵɵtext","ɵɵelementEnd","ɵɵproperty","ɵɵadvance","ɵɵtextInterpolate1","field_r4","ɵɵtemplate","FieldComponent_div_3_div_1_Template","fieldRow_r1","FieldComponent","constructor","fieldMap","nextMove","win","winner","i","j","event","console","log","switchNextMove","checkWin","getRow","length","line","leftDiag","rightDiag","row","Array","from","Set","split","selectors","decls","vars","consts","template","FieldComponent_Template","rf","ctx","FieldComponent_div_3_Template"],"sources":["C:\\Users\\igorn\\tic-tac-toe-2\\src\\app\\components\\field\\field.component.ts","C:\\Users\\igorn\\tic-tac-toe-2\\src\\app\\components\\field\\field.component.html"],"sourcesContent":["import { AfterViewInit, Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-field',\n  templateUrl: './field.component.html',\n  styleUrls: ['./field.component.scss']\n})\nexport class FieldComponent {\n\n  fieldMap = [\n    ['', '', ''],\n    ['', '', ''],\n    ['', '', ''],\n  ]\n\n  nextMove = 'X';\n  win = false;\n  winner = 'X';\n\n  mark(i: number, j: number, event: Event) {\n    if(this.win) {\n      return;\n    }\n\n    console.log(event);\n\n    this.fieldMap[i][j] = this.nextMove;\n    this.switchNextMove();\n    this.checkWin();\n\n    console.log(this.fieldMap);\n  }\n\n  switchNextMove() {\n    this.nextMove = this.nextMove == 'X' ? 'O' : 'X';\n  }\n\n  checkWin() {\n    for (let i of this.fieldMap) {\n      this.getRow(i);\n    }\n\n    for (let i = 0; i < this.fieldMap.length; i++) {\n      let line = [this.fieldMap[0][i], this.fieldMap[1][i], this.fieldMap[2][i]];\n      this.getRow(line);\n    }\n\n    let leftDiag = [this.fieldMap[0][0], this.fieldMap[1][1], this.fieldMap[2][2]];\n    this.getRow(leftDiag);\n\n    let rightDiag = [this.fieldMap[2][0], this.fieldMap[1][1], this.fieldMap[0][2]];\n    this.getRow(rightDiag);\n  }\n\n\n  getRow(row: string[]) {\n    const line = row[0] + row[1] + row[2];\n    let winner = Array.from(new Set(line.split('')));\n    let win = winner.length == 1 && line.length == 3;\n    \n    if(win) {\n      this.win = win;\n      this.winner = line[0];\n    }\n  }\n\n}\n","<div class=\"field-holder\">\n    <div class=\"winner\">\n        {{winner}}\n    </div>\n    <div *ngFor=\"let fieldRow of fieldMap; index as i\" class=\"row\">\n        <div *ngFor=\"let field of fieldRow; index as j\" class=\"col sqr playable\" [ngClass]=\"'sqr' + i + j\"\n            [id]=\"'sqr'  + i + j\" (click)=\"mark(i,j, $event)\">\n            {{field}}\n        </div>\n    </div>\n</div>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}