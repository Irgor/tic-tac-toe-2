{"ast":null,"code":"var _class;\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/moves-controll.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"../../components/field/field.component\";\nfunction GameComponent_div_2_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 4);\n    i0.ɵɵelement(1, \"app-field\", 5)(2, \"div\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const j_r5 = ctx.index;\n    const i_r2 = i0.ɵɵnextContext().index;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"i\", i_r2)(\"j\", j_r5);\n  }\n}\nfunction GameComponent_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 2);\n    i0.ɵɵtemplate(1, GameComponent_div_2_div_1_Template, 3, 2, \"div\", 3);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const fieldRow_r1 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", fieldRow_r1);\n  }\n}\nclass GameComponent {\n  constructor(moveControll) {\n    this.moveControll = moveControll;\n    this.fieldMap = [['', '', ''], ['', '', ''], ['', '', '']];\n    this.controllField = [['', '', ''], ['', '', ''], ['', '', '']];\n    this.moveControll.endedGames.next([]);\n  }\n  ngOnInit() {\n    this.endedGamesSub = this.moveControll.endedGames.subscribe({\n      next: games => {\n        for (let game of games) {\n          this.controllField[game.i][game.j] = game.winner;\n        }\n        console.log(this.controllField);\n      }\n    });\n  }\n  ngOnDestroy() {\n    this.endedGamesSub?.unsubscribe();\n  }\n}\n_class = GameComponent;\n_class.ɵfac = function GameComponent_Factory(t) {\n  return new (t || _class)(i0.ɵɵdirectiveInject(i1.MovesControllService));\n};\n_class.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: _class,\n  selectors: [[\"app-game\"]],\n  decls: 3,\n  vars: 2,\n  consts: [[1, \"field-holder\"], [\"class\", \"col\", 4, \"ngFor\", \"ngForOf\"], [1, \"col\"], [\"class\", \"row sqr\", 4, \"ngFor\", \"ngForOf\"], [1, \"row\", \"sqr\"], [3, \"i\", \"j\"]],\n  template: function GameComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵtext(0);\n      i0.ɵɵelementStart(1, \"div\", 0);\n      i0.ɵɵtemplate(2, GameComponent_div_2_Template, 2, 1, \"div\", 1);\n      i0.ɵɵelementEnd();\n    }\n    if (rf & 2) {\n      i0.ɵɵtextInterpolate1(\"\", ctx.nextMove, \"\\n\");\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngForOf\", ctx.fieldMap);\n    }\n  },\n  dependencies: [i2.NgForOf, i3.FieldComponent],\n  styles: [\".field-holder[_ngcontent-%COMP%] {\\n  display: flex;\\n  flex-direction: row;\\n  justify-content: center;\\n  align-items: center;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvcGFnZXMvZ2FtZS9nYW1lLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksYUFBQTtFQUNBLG1CQUFBO0VBQ0EsdUJBQUE7RUFDQSxtQkFBQTtBQUNKIiwic291cmNlc0NvbnRlbnQiOlsiLmZpZWxkLWhvbGRlciB7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgZmxleC1kaXJlY3Rpb246IHJvdztcclxuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xyXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxufSJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n});\nexport { GameComponent };","map":{"version":3,"names":["i0","ɵɵelementStart","ɵɵelement","ɵɵelementEnd","ɵɵadvance","ɵɵproperty","i_r2","j_r5","ɵɵtemplate","GameComponent_div_2_div_1_Template","fieldRow_r1","GameComponent","constructor","moveControll","fieldMap","controllField","endedGames","next","ngOnInit","endedGamesSub","subscribe","games","game","i","j","winner","console","log","ngOnDestroy","unsubscribe","ɵɵdirectiveInject","i1","MovesControllService","selectors","decls","vars","consts","template","GameComponent_Template","rf","ctx","ɵɵtext","GameComponent_div_2_Template","ɵɵtextInterpolate1","nextMove"],"sources":["C:\\Users\\igorn\\tic-tac-toe-2\\src\\app\\pages\\game\\game.component.ts","C:\\Users\\igorn\\tic-tac-toe-2\\src\\app\\pages\\game\\game.component.html"],"sourcesContent":["import { Component, OnInit, OnDestroy } from '@angular/core';\nimport { Subscription } from 'rxjs';\nimport { MovesControllService } from 'src/app/services/moves-controll.service';\n\n@Component({\n  selector: 'app-game',\n  templateUrl: './game.component.html',\n  styleUrls: ['./game.component.scss']\n})\nexport class GameComponent implements OnInit, OnDestroy {\n  fieldMap = [\n    ['', '', ''],\n    ['', '', ''],\n    ['', '', ''],\n  ]\n\n  controllField = [\n    ['', '', ''],\n    ['', '', ''],\n    ['', '', ''],\n  ]\n\n  nextMove;\n\n  endedGamesSub?: Subscription;\n\n  constructor(private moveControll: MovesControllService) {\n    this.moveControll.endedGames.next([]);\n  }\n\n  ngOnInit(): void {\n    this.endedGamesSub = this.moveControll.endedGames.subscribe({\n      next: games => {\n        for (let game of games) {\n          this.controllField[game.i][game.j] = game.winner;\n        }\n        console.log(this.controllField);\n      }\n    })\n  }\n\n  ngOnDestroy(): void {\n    this.endedGamesSub?.unsubscribe();\n  }\n\n}\n","{{nextMove}}\r\n<div class=\"field-holder\">\r\n    <div *ngFor=\"let fieldRow of fieldMap; index as i\" class=\"col\">\r\n        <div *ngFor=\"let field of fieldRow; index as j\" class=\"row sqr\">\r\n            <app-field [i]=\"i\" [j]=\"j\"></app-field>\r\n        <div>\r\n    </div>\r\n</div>"],"mappings":";;;;;;;ICGQA,EAAA,CAAAC,cAAA,aAAgE;IAC5DD,EAAA,CAAAE,SAAA,mBAAuC;IAGnDF,EAAA,CAAAG,YAAA,EAAM;;;;;IAHiBH,EAAA,CAAAI,SAAA,GAAO;IAAPJ,EAAA,CAAAK,UAAA,MAAAC,IAAA,CAAO,MAAAC,IAAA;;;;;IAF1BP,EAAA,CAAAC,cAAA,aAA+D;IAC3DD,EAAA,CAAAQ,UAAA,IAAAC,kCAAA,iBAIF;IALFT,EAAA,CAAAG,YAAA,EAA+D;;;;IACpCH,EAAA,CAAAI,SAAA,GAAa;IAAbJ,EAAA,CAAAK,UAAA,YAAAK,WAAA,CAAa;;;ADC5C,MAKaC,aAAa;EAiBxBC,YAAoBC,YAAkC;IAAlC,KAAAA,YAAY,GAAZA,YAAY;IAhBhC,KAAAC,QAAQ,GAAG,CACT,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,EACZ,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,EACZ,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,CACb;IAED,KAAAC,aAAa,GAAG,CACd,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,EACZ,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,EACZ,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,CACb;IAOC,IAAI,CAACF,YAAY,CAACG,UAAU,CAACC,IAAI,CAAC,EAAE,CAAC;EACvC;EAEAC,QAAQA,CAAA;IACN,IAAI,CAACC,aAAa,GAAG,IAAI,CAACN,YAAY,CAACG,UAAU,CAACI,SAAS,CAAC;MAC1DH,IAAI,EAAEI,KAAK,IAAG;QACZ,KAAK,IAAIC,IAAI,IAAID,KAAK,EAAE;UACtB,IAAI,CAACN,aAAa,CAACO,IAAI,CAACC,CAAC,CAAC,CAACD,IAAI,CAACE,CAAC,CAAC,GAAGF,IAAI,CAACG,MAAM;;QAElDC,OAAO,CAACC,GAAG,CAAC,IAAI,CAACZ,aAAa,CAAC;MACjC;KACD,CAAC;EACJ;EAEAa,WAAWA,CAAA;IACT,IAAI,CAACT,aAAa,EAAEU,WAAW,EAAE;EACnC;;SAlCWlB,aAAa;;mBAAbA,MAAa,EAAAX,EAAA,CAAA8B,iBAAA,CAAAC,EAAA,CAAAC,oBAAA;AAAA;;QAAbrB,MAAa;EAAAsB,SAAA;EAAAC,KAAA;EAAAC,IAAA;EAAAC,MAAA;EAAAC,QAAA,WAAAC,uBAAAC,EAAA,EAAAC,GAAA;IAAA,IAAAD,EAAA;MCT1BvC,EAAA,CAAAyC,MAAA,GACA;MAAAzC,EAAA,CAAAC,cAAA,aAA0B;MACtBD,EAAA,CAAAQ,UAAA,IAAAkC,4BAAA,iBAA+D;MADnE1C,EAAA,CAAAG,YAAA,EAA0B;;;MAD1BH,EAAA,CAAA2C,kBAAA,KAAAH,GAAA,CAAAI,QAAA,OACA;MAC8B5C,EAAA,CAAAI,SAAA,GAAa;MAAbJ,EAAA,CAAAK,UAAA,YAAAmC,GAAA,CAAA1B,QAAA,CAAa;;;;;;SDO9BH,aAAa"},"metadata":{},"sourceType":"module","externalDependencies":[]}