{"ast":null,"code":"var _class;\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common\";\nfunction FieldComponent_div_1_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r8 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 4);\n    i0.ɵɵlistener(\"click\", function FieldComponent_div_1_div_1_Template_div_click_0_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r8);\n      const j_r5 = restoredCtx.index;\n      const i_r2 = i0.ɵɵnextContext().index;\n      const ctx_r6 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r6.mark(i_r2, j_r5));\n    });\n    i0.ɵɵtext(1);\n    i0.ɵɵelement(2, \"div\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const field_r4 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", field_r4, \" \");\n  }\n}\nfunction FieldComponent_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 2);\n    i0.ɵɵtemplate(1, FieldComponent_div_1_div_1_Template, 3, 1, \"div\", 3);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const fieldRow_r1 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", fieldRow_r1);\n  }\n}\nclass FieldComponent {\n  constructor() {\n    this.fieldMap = [['', '', ''], ['', '', ''], ['', '', '']];\n    this.nextMove = 'X';\n  }\n  mark(i, j) {\n    this.fieldMap[i][j] = this.nextMove;\n    this.switchNextMove();\n    this.checkWin();\n    console.log(this.fieldMap);\n  }\n  switchNextMove() {\n    this.nextMove = this.nextMove == 'X' ? 'O' : 'X';\n  }\n  checkWin() {\n    //check win in line\n    for (let i of this.fieldMap) {\n      let lineWin = this.getRow(i);\n      if (lineWin) {\n        console.log('win on ', i);\n      }\n    }\n    for (let i = 0; i < this.fieldMap.length; i++) {\n      let column = [this.fieldMap[0][i], this.fieldMap[1][i], this.fieldMap[2][i]];\n      let columnWin = this.getRow(column);\n      if (columnWin) {\n        console.log('win on ');\n      }\n    }\n  }\n  getRow(row) {\n    const line = row[0] + row[1] + row[2];\n    let winner = Array.from(new Set(line.split('')));\n    return winner.length == 1 && line.length == 3;\n  }\n}\n_class = FieldComponent;\n_class.ɵfac = function FieldComponent_Factory(t) {\n  return new (t || _class)();\n};\n_class.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: _class,\n  selectors: [[\"app-field\"]],\n  decls: 2,\n  vars: 1,\n  consts: [[1, \"field-holder\"], [\"class\", \"col\", 4, \"ngFor\", \"ngForOf\"], [1, \"col\"], [\"class\", \"row sqr\", 3, \"click\", 4, \"ngFor\", \"ngForOf\"], [1, \"row\", \"sqr\", 3, \"click\"]],\n  template: function FieldComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0);\n      i0.ɵɵtemplate(1, FieldComponent_div_1_Template, 2, 1, \"div\", 1);\n      i0.ɵɵelementEnd();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngForOf\", ctx.fieldMap);\n    }\n  },\n  dependencies: [i1.NgForOf],\n  styles: [\".field-holder[_ngcontent-%COMP%] {\\n  display: flex;\\n  flex-direction: row;\\n  border: 1px solid blue;\\n  width: 200px;\\n  justify-content: center;\\n  align-items: center;\\n}\\n\\n.sqr[_ngcontent-%COMP%] {\\n  height: 60px;\\n  width: 60px;\\n  border: 1px solid black;\\n  display: flex;\\n  text-align: center;\\n  justify-content: center;\\n  align-items: center;\\n  -webkit-user-select: none;\\n          user-select: none;\\n  padding: 6px;\\n  box-sizing: border-box;\\n  cursor: pointer;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50cy9maWVsZC9maWVsZC5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLGFBQUE7RUFDQSxtQkFBQTtFQUNBLHNCQUFBO0VBQ0EsWUFBQTtFQUNBLHVCQUFBO0VBQ0EsbUJBQUE7QUFDSjs7QUFFQTtFQUNJLFlBQUE7RUFDQSxXQUFBO0VBQ0EsdUJBQUE7RUFDQSxhQUFBO0VBQ0Esa0JBQUE7RUFDQSx1QkFBQTtFQUNBLG1CQUFBO0VBQ0EseUJBQUE7VUFBQSxpQkFBQTtFQUNBLFlBQUE7RUFDQSxzQkFBQTtFQUNBLGVBQUE7QUFDSiIsInNvdXJjZXNDb250ZW50IjpbIi5maWVsZC1ob2xkZXIge1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGZsZXgtZGlyZWN0aW9uOiByb3c7XHJcbiAgICBib3JkZXI6IDFweCBzb2xpZCBibHVlO1xyXG4gICAgd2lkdGg6IDIwMHB4O1xyXG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XHJcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG59XHJcblxyXG4uc3FyIHtcclxuICAgIGhlaWdodDogNjBweDtcclxuICAgIHdpZHRoOiA2MHB4O1xyXG4gICAgYm9yZGVyOiAxcHggc29saWQgYmxhY2s7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XHJcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG4gICAgdXNlci1zZWxlY3Q6IG5vbmU7XHJcbiAgICBwYWRkaW5nOiA2cHg7XHJcbiAgICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xyXG4gICAgY3Vyc29yOiBwb2ludGVyO1xyXG59Il0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n});\nexport { FieldComponent };","map":{"version":3,"names":["i0","ɵɵelementStart","ɵɵlistener","FieldComponent_div_1_div_1_Template_div_click_0_listener","restoredCtx","ɵɵrestoreView","_r8","j_r5","index","i_r2","ɵɵnextContext","ctx_r6","ɵɵresetView","mark","ɵɵtext","ɵɵelement","ɵɵelementEnd","ɵɵadvance","ɵɵtextInterpolate1","field_r4","ɵɵtemplate","FieldComponent_div_1_div_1_Template","ɵɵproperty","fieldRow_r1","FieldComponent","constructor","fieldMap","nextMove","i","j","switchNextMove","checkWin","console","log","lineWin","getRow","length","column","columnWin","row","line","winner","Array","from","Set","split","selectors","decls","vars","consts","template","FieldComponent_Template","rf","ctx","FieldComponent_div_1_Template"],"sources":["C:\\Users\\igorn\\tic-tac-toe-2\\src\\app\\components\\field\\field.component.ts","C:\\Users\\igorn\\tic-tac-toe-2\\src\\app\\components\\field\\field.component.html"],"sourcesContent":["import { Component } from '@angular/core';\nimport { filter } from 'rxjs';\n\n@Component({\n  selector: 'app-field',\n  templateUrl: './field.component.html',\n  styleUrls: ['./field.component.scss']\n})\nexport class FieldComponent {\n\n  fieldMap = [\n    ['', '', ''],\n    ['', '', ''],\n    ['', '', ''],\n  ]\n\n  nextMove = 'X';\n\n  mark(i: number, j: number) {\n    this.fieldMap[i][j] = this.nextMove;\n    this.switchNextMove();\n    this.checkWin();\n    console.log(this.fieldMap);\n  }\n\n  switchNextMove() {\n    this.nextMove = this.nextMove == 'X' ? 'O' : 'X';\n  }\n\n  checkWin() {\n\n    //check win in line\n    for (let i of this.fieldMap) {\n      let lineWin = this.getRow(i);\n      if (lineWin) {\n        console.log('win on ', i)\n      }\n    }\n\n\n    for (let i = 0; i < this.fieldMap.length; i++) {\n      let column = [this.fieldMap[0][i], this.fieldMap[1][i], this.fieldMap[2][i]];\n      let columnWin = this.getRow(column);\n      if(columnWin) {\n        console.log('win on ', )\n      }\n    }\n\n  }\n\n  getRow(row: string[]): boolean {\n    const line = row[0] + row[1] + row[2];\n    let winner = Array.from(new Set(line.split('')));\n    return winner.length == 1 && line.length == 3;\n  }\n\n}\n","<div class=\"field-holder\">\n    <div *ngFor=\"let fieldRow of fieldMap; index as i\" class=\"col\">\n        <div *ngFor=\"let field of fieldRow; index as j\" class=\"row sqr\" (click)=\"mark(i,j)\">\n            {{field}}\n        <div>\n    </div>\n</div>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}