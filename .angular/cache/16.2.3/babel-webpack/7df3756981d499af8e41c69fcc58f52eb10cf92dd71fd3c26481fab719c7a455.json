{"ast":null,"code":"var _class;\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/moves-controll.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"../../components/field/field.component\";\nfunction GameComponent_div_3_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 5);\n    i0.ɵɵelement(1, \"app-field\", 6)(2, \"div\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const j_r5 = ctx.index;\n    const i_r2 = i0.ɵɵnextContext().index;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"i\", i_r2)(\"j\", j_r5);\n  }\n}\nfunction GameComponent_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 3);\n    i0.ɵɵtemplate(1, GameComponent_div_3_div_1_Template, 3, 2, \"div\", 4);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const fieldRow_r1 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", fieldRow_r1);\n  }\n}\nclass GameComponent {\n  constructor(moveControll) {\n    this.moveControll = moveControll;\n    this.fieldMap = [['', '', ''], ['', '', ''], ['', '', '']];\n    this.controllField = [['', '', ''], ['', '', ''], ['', '', '']];\n    this.nextMove = '';\n    this.moveControll.endedGames.next([]);\n  }\n  ngOnInit() {\n    this.endedGamesSub = this.moveControll.endedGames.subscribe({\n      next: games => {\n        for (let game of games) {\n          this.controllField[game.i][game.j] = game.winner;\n        }\n        console.log(this.controllField);\n      }\n    });\n    this.moveSub = this.moveControll.gameToMove.subscribe({\n      next: game => {\n        this.nextMove = game.mover;\n      }\n    });\n  }\n  ngOnDestroy() {\n    this.endedGamesSub?.unsubscribe();\n    this.moveSub?.unsubscribe();\n  }\n}\n_class = GameComponent;\n_class.ɵfac = function GameComponent_Factory(t) {\n  return new (t || _class)(i0.ɵɵdirectiveInject(i1.MovesControllService));\n};\n_class.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: _class,\n  selectors: [[\"app-game\"]],\n  decls: 4,\n  vars: 2,\n  consts: [[1, \"nextMove\"], [1, \"field-holder\"], [\"class\", \"col\", 4, \"ngFor\", \"ngForOf\"], [1, \"col\"], [\"class\", \"row sqr\", 4, \"ngFor\", \"ngForOf\"], [1, \"row\", \"sqr\"], [3, \"i\", \"j\"]],\n  template: function GameComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0);\n      i0.ɵɵtext(1);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(2, \"div\", 1);\n      i0.ɵɵtemplate(3, GameComponent_div_3_Template, 2, 1, \"div\", 2);\n      i0.ɵɵelementEnd();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(1);\n      i0.ɵɵtextInterpolate1(\" \", ctx.nextMove, \"\\n\");\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngForOf\", ctx.fieldMap);\n    }\n  },\n  dependencies: [i2.NgForOf, i3.FieldComponent],\n  styles: [\".field-holder[_ngcontent-%COMP%] {\\n  display: flex;\\n  flex-direction: row;\\n  justify-content: center;\\n  align-items: center;\\n}\\n\\n.next-move[_ngcontent-%COMP%] {\\n  font-family: \\\"Nunito\\\", sans-serif;\\n  font-size: 14rem;\\n  position: absolute;\\n  top: 30px;\\n  left: 30px;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvcGFnZXMvZ2FtZS9nYW1lLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksYUFBQTtFQUNBLG1CQUFBO0VBQ0EsdUJBQUE7RUFDQSxtQkFBQTtBQUNKOztBQUVBO0VBQ0ksaUNBQUE7RUFDQSxnQkFBQTtFQUNBLGtCQUFBO0VBQ0EsU0FBQTtFQUNBLFVBQUE7QUFDSiIsInNvdXJjZXNDb250ZW50IjpbIi5maWVsZC1ob2xkZXIge1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGZsZXgtZGlyZWN0aW9uOiByb3c7XHJcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcclxuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbn1cclxuXHJcbi5uZXh0LW1vdmUge1xyXG4gICAgZm9udC1mYW1pbHk6ICdOdW5pdG8nLCBzYW5zLXNlcmlmO1xyXG4gICAgZm9udC1zaXplOiAxNHJlbTtcclxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgIHRvcDogMzBweDtcclxuICAgIGxlZnQ6IDMwcHg7XHJcbn0iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n});\nexport { GameComponent };","map":{"version":3,"names":["i0","ɵɵelementStart","ɵɵelement","ɵɵelementEnd","ɵɵadvance","ɵɵproperty","i_r2","j_r5","ɵɵtemplate","GameComponent_div_3_div_1_Template","fieldRow_r1","GameComponent","constructor","moveControll","fieldMap","controllField","nextMove","endedGames","next","ngOnInit","endedGamesSub","subscribe","games","game","i","j","winner","console","log","moveSub","gameToMove","mover","ngOnDestroy","unsubscribe","ɵɵdirectiveInject","i1","MovesControllService","selectors","decls","vars","consts","template","GameComponent_Template","rf","ctx","ɵɵtext","GameComponent_div_3_Template","ɵɵtextInterpolate1"],"sources":["C:\\Users\\igorn\\tic-tac-toe-2\\src\\app\\pages\\game\\game.component.ts","C:\\Users\\igorn\\tic-tac-toe-2\\src\\app\\pages\\game\\game.component.html"],"sourcesContent":["import { Component, OnInit, OnDestroy } from '@angular/core';\nimport { Subscription } from 'rxjs';\nimport { MovesControllService } from 'src/app/services/moves-controll.service';\n\n@Component({\n  selector: 'app-game',\n  templateUrl: './game.component.html',\n  styleUrls: ['./game.component.scss']\n})\nexport class GameComponent implements OnInit, OnDestroy {\n  fieldMap = [\n    ['', '', ''],\n    ['', '', ''],\n    ['', '', ''],\n  ]\n\n  controllField = [\n    ['', '', ''],\n    ['', '', ''],\n    ['', '', ''],\n  ]\n\n  nextMove = '';\n\n  endedGamesSub?: Subscription;\n  moveSub?: Subscription;\n\n  constructor(private moveControll: MovesControllService) {\n    this.moveControll.endedGames.next([]);\n  }\n\n  ngOnInit(): void {\n    this.endedGamesSub = this.moveControll.endedGames.subscribe({\n      next: games => {\n        for (let game of games) {\n          this.controllField[game.i][game.j] = game.winner;\n        }\n        console.log(this.controllField);\n      }\n    });\n\n    this.moveSub = this.moveControll.gameToMove.subscribe({\n      next: game => {\n        this.nextMove = game.mover;\n      }\n    })\n  }\n\n  ngOnDestroy(): void {\n    this.endedGamesSub?.unsubscribe();\n    this.moveSub?.unsubscribe();\n  }\n\n}\n","<div class=\"nextMove\">\r\n    {{nextMove}}\r\n</div>\r\n<div class=\"field-holder\">\r\n    <div *ngFor=\"let fieldRow of fieldMap; index as i\" class=\"col\">\r\n        <div *ngFor=\"let field of fieldRow; index as j\" class=\"row sqr\">\r\n            <app-field [i]=\"i\" [j]=\"j\"></app-field>\r\n        <div>\r\n    </div>\r\n</div>"],"mappings":";;;;;;;ICKQA,EAAA,CAAAC,cAAA,aAAgE;IAC5DD,EAAA,CAAAE,SAAA,mBAAuC;IAGnDF,EAAA,CAAAG,YAAA,EAAM;;;;;IAHiBH,EAAA,CAAAI,SAAA,GAAO;IAAPJ,EAAA,CAAAK,UAAA,MAAAC,IAAA,CAAO,MAAAC,IAAA;;;;;IAF1BP,EAAA,CAAAC,cAAA,aAA+D;IAC3DD,EAAA,CAAAQ,UAAA,IAAAC,kCAAA,iBAIF;IALFT,EAAA,CAAAG,YAAA,EAA+D;;;;IACpCH,EAAA,CAAAI,SAAA,GAAa;IAAbJ,EAAA,CAAAK,UAAA,YAAAK,WAAA,CAAa;;;ADD5C,MAKaC,aAAa;EAkBxBC,YAAoBC,YAAkC;IAAlC,KAAAA,YAAY,GAAZA,YAAY;IAjBhC,KAAAC,QAAQ,GAAG,CACT,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,EACZ,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,EACZ,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,CACb;IAED,KAAAC,aAAa,GAAG,CACd,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,EACZ,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,EACZ,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,CACb;IAED,KAAAC,QAAQ,GAAG,EAAE;IAMX,IAAI,CAACH,YAAY,CAACI,UAAU,CAACC,IAAI,CAAC,EAAE,CAAC;EACvC;EAEAC,QAAQA,CAAA;IACN,IAAI,CAACC,aAAa,GAAG,IAAI,CAACP,YAAY,CAACI,UAAU,CAACI,SAAS,CAAC;MAC1DH,IAAI,EAAEI,KAAK,IAAG;QACZ,KAAK,IAAIC,IAAI,IAAID,KAAK,EAAE;UACtB,IAAI,CAACP,aAAa,CAACQ,IAAI,CAACC,CAAC,CAAC,CAACD,IAAI,CAACE,CAAC,CAAC,GAAGF,IAAI,CAACG,MAAM;;QAElDC,OAAO,CAACC,GAAG,CAAC,IAAI,CAACb,aAAa,CAAC;MACjC;KACD,CAAC;IAEF,IAAI,CAACc,OAAO,GAAG,IAAI,CAAChB,YAAY,CAACiB,UAAU,CAACT,SAAS,CAAC;MACpDH,IAAI,EAAEK,IAAI,IAAG;QACX,IAAI,CAACP,QAAQ,GAAGO,IAAI,CAACQ,KAAK;MAC5B;KACD,CAAC;EACJ;EAEAC,WAAWA,CAAA;IACT,IAAI,CAACZ,aAAa,EAAEa,WAAW,EAAE;IACjC,IAAI,CAACJ,OAAO,EAAEI,WAAW,EAAE;EAC7B;;SA1CWtB,aAAa;;mBAAbA,MAAa,EAAAX,EAAA,CAAAkC,iBAAA,CAAAC,EAAA,CAAAC,oBAAA;AAAA;;QAAbzB,MAAa;EAAA0B,SAAA;EAAAC,KAAA;EAAAC,IAAA;EAAAC,MAAA;EAAAC,QAAA,WAAAC,uBAAAC,EAAA,EAAAC,GAAA;IAAA,IAAAD,EAAA;MCT1B3C,EAAA,CAAAC,cAAA,aAAsB;MAClBD,EAAA,CAAA6C,MAAA,GACJ;MAAA7C,EAAA,CAAAG,YAAA,EAAM;MACNH,EAAA,CAAAC,cAAA,aAA0B;MACtBD,EAAA,CAAAQ,UAAA,IAAAsC,4BAAA,iBAA+D;MADnE9C,EAAA,CAAAG,YAAA,EAA0B;;;MAFtBH,EAAA,CAAAI,SAAA,GACJ;MADIJ,EAAA,CAAA+C,kBAAA,MAAAH,GAAA,CAAA5B,QAAA,OACJ;MAE8BhB,EAAA,CAAAI,SAAA,GAAa;MAAbJ,EAAA,CAAAK,UAAA,YAAAuC,GAAA,CAAA9B,QAAA,CAAa;;;;;;SDK9BH,aAAa"},"metadata":{},"sourceType":"module","externalDependencies":[]}